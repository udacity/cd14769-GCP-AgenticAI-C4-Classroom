sources:
  loan:
    kind: mysql
    host: ${MYSQL_HOST}
    port: ${MYSQL_PORT:3306}
    database: bank
    user: ${MYSQL_USER}
    password: ${MYSQL_PASSWORD}

tools:
  get-loan-info:
    kind: mysql-sql
    source: loan
    description: Get loan information for the loan account requested.
    parameters:
      - name: name
        type: string
        description: The name of the loan account
    statement: SELECT origination_date, amount, outstanding_balance, terms, monthly_payment, next_payment_date FROM loans WHERE loan_type = ? AND customer_id = 1
  get-total-outstanding-balance:
    kind: mysql-sql
    source: loan
    description: Get the total outstanding balance of all loans for a customer.
    statement: SELECT SUM(outstanding_balance) as total_balance FROM loans WHERE customer_id = 1
